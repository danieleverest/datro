

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>review &mdash; Element -  WebApp 0.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="iiitemskinning thoughts" href="skinning%20thoughts.html" />
    <link rel="prev" title="pr-previews" href="pr-previews.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Element -  WebApp
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="releasenotes.html">Release Notes and Notices</a></li>
<li class="toctree-l1"><a class="reference internal" href="app-load.html">app-load</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">config</a></li>
<li class="toctree-l1"><a class="reference internal" href="customisations.html">customisations</a></li>
<li class="toctree-l1"><a class="reference internal" href="e2ee.html">e2ee</a></li>
<li class="toctree-l1"><a class="reference internal" href="e2ee.html#disabling-encryption-by-default">Disabling encryption by default</a></li>
<li class="toctree-l1"><a class="reference internal" href="e2ee.html#requiring-secure-backup">Requiring secure backup</a></li>
<li class="toctree-l1"><a class="reference internal" href="e2ee.html#preferring-setup-methods">Preferring setup methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature-flags.html">feature-flags</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature-flags.html#interaction-with-spec-process">Interaction with spec process</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature-flags.html#starting-work-on-a-feature">Starting work on a feature</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature-flags.html#enabling-by-default-on-develop-and-nightly">Enabling by default on develop and nightly</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature-flags.html#enabling-by-default-on-staging-app-and-release">Enabling by default on staging, app, and release</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature-flags.html#feature-deployed-successfully">Feature deployed successfully</a></li>
<li class="toctree-l1"><a class="reference internal" href="jitsi-dev.html">jitsi-dev</a></li>
<li class="toctree-l1"><a class="reference internal" href="jitsi-dev.html#brief-introduction-to-widgets">Brief introduction to widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="jitsi-dev.html#brief-introduction-to-integration-managers">Brief introduction to integration managers</a></li>
<li class="toctree-l1"><a class="reference internal" href="jitsi-dev.html#widgets-configured-by-integration-managers">Widgets configured by integration managers</a></li>
<li class="toctree-l1"><a class="reference internal" href="jitsi-dev.html#jitsi-widgets-from-integration-managers">Jitsi widgets from integration managers</a></li>
<li class="toctree-l1"><a class="reference internal" href="jitsi-dev.html#jitsi-widgets-generated-by-element-itself">Jitsi widgets generated by Element itself</a></li>
<li class="toctree-l1"><a class="reference internal" href="jitsi-dev.html#the-jitsi-wrapper-in-element">The Jitsi wrapper in Element</a></li>
<li class="toctree-l1"><a class="reference internal" href="jitsi.html">jitsi</a></li>
<li class="toctree-l1"><a class="reference internal" href="jitsi.html#configuring-element-to-use-your-self-hosted-jitsi-server">Configuring Element to use your self-hosted Jitsi server</a></li>
<li class="toctree-l1"><a class="reference internal" href="jitsi.html#element-android">Element Android</a></li>
<li class="toctree-l1"><a class="reference internal" href="jitsi.html#element-ios">Element iOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="kubernetes.html">kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html">labs</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#submit-abuse-report-to-moderators-msc3215-support-feature-report-to-moderators">Submit Abuse Report to Moderators MSC3215 support (<code class="docutils literal notranslate"><span class="pre">feature_report_to_moderators</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#matrix-spaces-msc1772-support-feature-spaces">Matrix Spaces MSC1772 support (<code class="docutils literal notranslate"><span class="pre">feature_spaces</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#render-latex-maths-in-messages-feature-latex-maths">Render LaTeX maths in messages (<code class="docutils literal notranslate"><span class="pre">feature_latex_maths</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#message-pinning-feature-pinning">Message pinning (<code class="docutils literal notranslate"><span class="pre">feature_pinning</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#custom-status-feature-custom-status">Custom status (<code class="docutils literal notranslate"><span class="pre">feature_custom_status</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#custom-tags-feature-custom-tags">Custom tags (<code class="docutils literal notranslate"><span class="pre">feature_custom_tags</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#render-simple-counters-in-room-header-feature-state-counters">Render simple counters in room header (<code class="docutils literal notranslate"><span class="pre">feature_state_counters</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#multiple-integration-managers-feature-many-integration-managers">Multiple integration managers (<code class="docutils literal notranslate"><span class="pre">feature_many_integration_managers</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#new-ways-to-ignore-people-feature-mjolnir">New ways to ignore people (<code class="docutils literal notranslate"><span class="pre">feature_mjolnir</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#verifications-in-dms-feature-dm-verification">Verifications in DMs (<code class="docutils literal notranslate"><span class="pre">feature_dm_verification</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#bridge-info-tab-feature-bridge-state">Bridge info tab (<code class="docutils literal notranslate"><span class="pre">feature_bridge_state</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#presence-indicator-in-room-list-feature-presence-in-room-list">Presence indicator in room list (<code class="docutils literal notranslate"><span class="pre">feature_presence_in_room_list</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#custom-themes-feature-custom-themes">Custom themes (<code class="docutils literal notranslate"><span class="pre">feature_custom_themes</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#message-preview-tweaks">Message preview tweaks</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#communities-v2-prototyping-feature-communities-v2-prototypes-in-development">Communities v2 prototyping (<code class="docutils literal notranslate"><span class="pre">feature_communities_v2_prototypes</span></code>) [In Development]</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#dehydrated-devices-feature-dehydration">Dehydrated devices (<code class="docutils literal notranslate"><span class="pre">feature_dehydration</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#do-not-disturb-feature-dnd">Do not disturb (<code class="docutils literal notranslate"><span class="pre">feature_dnd</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="labs.html#hidden-read-receipts-feature-hidden-read-receipts">Hidden read receipts (<code class="docutils literal notranslate"><span class="pre">feature_hidden_read_receipts</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="memory-profiles-and-leaks.html">memory-profiles-and-leaks</a></li>
<li class="toctree-l1"><a class="reference internal" href="memory-profiles-and-leaks.html#memory-leaks">Memory leaks</a></li>
<li class="toctree-l1"><a class="reference internal" href="memory-profiles-and-leaks.html#memory-profiles-snapshots">Memory profiles/snapshots</a></li>
<li class="toctree-l1"><a class="reference internal" href="native-node-modules.html">native-node-modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="pr-previews.html">pr-previews</a></li>
<li class="toctree-l1"><a class="reference internal" href="pr-previews.html#faqs">FAQs</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">review</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#review-guidelines">Review Guidelines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#code-review">Code Review</a></li>
<li class="toctree-l1"><a class="reference internal" href="#code-quality">Code Quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="#design-and-product-review">Design and Product Review</a></li>
<li class="toctree-l1"><a class="reference internal" href="skinning%20thoughts.html">iiitemskinning thoughts</a></li>
<li class="toctree-l1"><a class="reference internal" href="theming.html">theming</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating-dev.html">translating-dev</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating-dev.html#requirements">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating-dev.html#translating-strings-vs-marking-strings-for-translation">Translating strings vs. marking strings for translation</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating-dev.html#adding-new-strings">Adding new strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating-dev.html#editing-existing-strings">Editing existing strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating-dev.html#adding-variables-inside-a-string">Adding variables inside a string.</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating-dev.html#things-to-know-style-guides">Things to know/Style Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating.html">translating</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating.html#requirements">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating.html#step-0-join-element-translations-matrix-org">Step 0: Join #element-translations:matrix.org</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating.html#step-1-preparing-your-weblate-profile">Step 1: Preparing your Weblate Profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating.html#how-to-check-if-your-language-already-is-being-translated">How to check if your language already is being translated</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating.html#step-2a-helping-on-existing-languages">Step 2a: Helping on existing languages.</a></li>
<li class="toctree-l1"><a class="reference internal" href="translating.html#step-2b-adding-a-new-language">Step 2b: Adding a new language</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Element -  WebApp</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>review</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/review.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="review">
<h1>review<a class="headerlink" href="#review" title="Permalink to this headline">¶</a></h1>
<div class="section" id="review-guidelines">
<h2>Review Guidelines<a class="headerlink" href="#review-guidelines" title="Permalink to this headline">¶</a></h2>
<p>The following summarises review guidelines that we follow for pull requests in
Element Web and other supporting repos. These are just guidelines (not strict
rules) and may be updated over time.</p>
</div>
</div>
<div class="section" id="code-review">
<h1>Code Review<a class="headerlink" href="#code-review" title="Permalink to this headline">¶</a></h1>
<p>When reviewing code, here are some things we look for and also things we avoid:</p>
<ul class="simple">
<li><p>Correctness</p></li>
<li><p>Performance</p></li>
<li><p>Accessibility</p></li>
<li><p>Security</p></li>
<li><p>Quality via automated and manual testing</p></li>
<li><p>Comments and documentation where needed</p></li>
<li><p>Sharing knowledge of different areas among the team</p></li>
<li><p>Ensuring it’s something we’re comfortable maintaining for the long term</p></li>
<li><p>Progress indicators and local echo where appropriate with network activity</p></li>
</ul>
<ul class="simple">
<li><p>Style nits that are already handled by the linter</p></li>
<li><p>Dramatically increasing scope</p></li>
</ul>
<ul class="simple">
<li><p>Use empathetic language</p>
<ul>
<li><p>See also <a class="reference external" href="https://kickstarter.engineering/a-guide-to-mindful-communication-in-code-reviews-48aab5282e5e">Mindful Communication in Code
Reviews</a>
and <a class="reference external" href="https://mtlynch.io/human-code-reviews-1/">How to Do Code Reviews Like a Human</a></p></li>
</ul>
</li>
<li><p>Authors should prefer smaller commits for easier reviewing and bisection</p></li>
<li><p>Reviewers should be explicit about required versus optional changes</p>
<ul>
<li><p>Reviews are conversations and the PR author should feel comfortable
discussing and pushing back on changes before making them</p></li>
</ul>
</li>
<li><p>Reviewers are encouraged to ask for tests where they believe it is reasonable</p></li>
<li><p>Core team should lead by example through their tone and language</p></li>
<li><p>Take the time to thank and point out good code changes</p></li>
<li><p>Using softer language like “please” and “what do you think?” goes a long way
towards making others feel like colleagues working towards a common goal</p></li>
</ul>
<ul class="simple">
<li><p>Authors should request review from the element-web team by default (if someone on
the team is clearly the expert in an area, a direct review request to them may
be more appropriate)</p></li>
<li><p>Reviewers should remove the team review request and request review from
themselves when starting a review to avoid double review</p></li>
<li><p>If there are multiple related PRs authors should reference each of the PRs in
the others before requesting review. Reviewers might start reviewing from
different places and could miss other required PRs.</p></li>
<li><p>Avoid force pushing to a PR after the first round of review</p></li>
<li><p>Use the GitHub default of merge commits when landing (avoid alternate options
like squash or rebase)</p></li>
<li><p>PR author merges after review (assuming they have write access)</p></li>
<li><p>Assign issues only when in progress to indicate to others what can be picked
up</p></li>
</ul>
</div>
<div class="section" id="code-quality">
<h1>Code Quality<a class="headerlink" href="#code-quality" title="Permalink to this headline">¶</a></h1>
<p>In the past, we have occasionally written different kinds of tests for
Element and the SDKs, but it hasn’t been a consistent focus. Going forward, we’d
like to change that.</p>
<ul class="simple">
<li><p>For new features, code reviewers will expect some form of automated testing to
be included by default</p></li>
<li><p>For bug fixes, regression tests are of course great to have, but we don’t want
to block fixes on this, so we won’t require them at this time</p></li>
</ul>
<p>The above policy is not a strict rule, but instead it’s meant to be a
conversation between the author and reviewer. As an author, try to think about
writing a test when making your next change. As a reviewer, try to think about
how you might test the area of code you are reviewing. If the reviewer agrees
it would be quite difficult to test some new feature, then it’s okay for them to
accept the change without tests for now, but we’d eventually like to be more
strict about this further down the road.</p>
<p>If you do spot areas that are quite hard to test today, please let us know in
<a class="reference external" href="https://matrix.to/#/#element-dev:matrix.org">#element-dev:matrix.org</a>. We can
work on improving the app architecture and testing helpers so that future tests
are easier for everyone to write, but we won’t know which parts are difficult
unless people shout when stumbling through them.</p>
<p>We recognise that this testing policy will slow things down a bit, but overall
it should encourage better long-term health of the app and give everyone more
confidence when making changes as coverage increases over time.</p>
<p>For changes guarded by a feature flag, we currently lean towards prioritising
our ability to evolve quickly using such flags and thus we will not currently
require tests to appear at the same time as the initial landing of features
guarded by flags, as long as (for new flagged features going forward) the
feature author understands that they are effectively deferring part of their
work (adding tests) until later and tests are expected to appear before the
feature can be enabled by default.</p>
</div>
<div class="section" id="design-and-product-review">
<h1>Design and Product Review<a class="headerlink" href="#design-and-product-review" title="Permalink to this headline">¶</a></h1>
<p>We want to ensure that all changes to Element fit with our design and product
vision. We often request review from those teams so they can provide their
perspective.</p>
<p>In more detail, our usual process for changes that affect the UI or alter user
functionality is:</p>
<ul class="simple">
<li><p>For changes that will go live when merged, always flag Design and Product
teams as appropriate</p></li>
<li><p>For changes guarded by a feature flag, Design and Product review is not
required (though may still be useful) since we can continue tweaking</p></li>
</ul>
<p>As it can be difficult to review design work from looking at just the changed
files in a PR, a <a class="reference external" href="./pr-previews.md">preview site</a> that includes your changes
will be added automatically so that anyone who’s interested can try them out
easily.</p>
<p>Before starting work on a feature, it’s best to ensure your plan aligns well
with our vision for Element. Please chat with the team in
<a class="reference external" href="https://matrix.to/#/#element-dev:matrix.org">#element-dev:matrix.org</a> before
you start so we can ensure it’s something we’d be willing to merge.</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="skinning%20thoughts.html" class="btn btn-neutral float-right" title="iiitemskinning thoughts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="pr-previews.html" class="btn btn-neutral float-left" title="pr-previews" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, DATRO Consortium.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>